#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# 変更があるファイルをlint-stagedでチェック
npx lint-staged

# TypeScriptエラーをチェック
echo "TypeScriptエラーをチェックしています..."
npm run lint:check

# エラーがあればコミットを中止
if [ $? -ne 0 ]; then
  echo "❌ TypeScriptエラーがあります。コミットを中止します。"
  echo "エラーを修正してから再度コミットしてください。"
  exit 1
fi

echo "✅ TypeScriptエラーはありません。コミットを続行します。"
