# タスク完了時チェックリスト

## 🔍 作業前必須確認項目

### 第1確認項目： TDD（t-wada流）を徹底する
- [ ] Red: 失敗するテストを書いた
- [ ] Green: テストを通す最小限の実装をした
- [ ] Refactor: リファクタリングを実施した

### 第2確認項目： 品質基準妥協禁止
- [ ] テストカバレッジ80%以上を維持
- [ ] 基準を下げる回避は絶対にしていない

### 第3確認項目： ローカル品質チェック必須
- [ ] コミット・プッシュ前に以下を実行:
  ```bash
  npm run lint        # ESLintチェック
  npm run test        # テスト実行
  npm run format      # フォーマット
  ```

### 第4確認項目： 同一エラー3回で根本原因分析
- [ ] 同じ失敗を3回以上繰り返していない
- [ ] エラーが続く場合は根本原因を特定した

### 第5確認項目： 二重管理回避
- [ ] ドキュメントとコードの重複を避けた
- [ ] 実装をSingle Source of Truthとした

## ✅ コミット前チェックリスト

### コード品質
- [ ] TypeScriptのany型を使用していない
- [ ] ESLintエラー0件
- [ ] Prettierでフォーマット済み
- [ ] 適切なエラーハンドリングを実装

### テスト
- [ ] ユニットテストを追加/更新した
- [ ] テストが全てパスする
- [ ] カバレッジ80%以上を維持

### Git操作
- [ ] 適切なブランチ名（feature/fix/refactor/docs）
- [ ] コミットメッセージは日本語Conventional Commits形式
- [ ] 不要なファイルがステージングされていない
- [ ] `git diff --staged`で変更内容を確認した

## 📝 PR作成時チェックリスト

### PR本文
- [ ] 変更内容の概要を記載
- [ ] `Closes #XX`でIssue番号を記載（自動クローズ）
- [ ] テスト内容を記載
- [ ] レビューポイントを明記

### コード
- [ ] 既存のコード規約に従っている
- [ ] 主要クラスにドキュメント参照コメントがある
- [ ] 破壊的変更がある場合は明記

### ドキュメント
- [ ] 必要に応じてdocs/を更新
- [ ] APIの変更はAPI仕様書を更新
- [ ] 画面の追加は画面一覧を更新

## 🚀 デプロイ前チェックリスト

### 環境変数
- [ ] 本番用環境変数が設定済み
- [ ] 機密情報がコードに含まれていない

### パフォーマンス
- [ ] ビルドが成功する
- [ ] 不要な依存関係がない
- [ ] バンドルサイズが適切

### セキュリティ
- [ ] 認証・認可が適切に実装されている
- [ ] 入力値のバリデーションが実装されている
- [ ] SQLインジェクション対策済み

## ⚠️ 注意事項

### 絶対に守ること
1. **品質基準を下げない** - カバレッジ80%維持
2. **ローカルでテストを通す** - CI失敗を防ぐ
3. **二重管理をしない** - 実装が真実の源

### 推奨事項
1. 小さなステップで進める（TDD）
2. 不安なところからテストを書く
3. リファクタリングは継続的に行う

## 🔄 継続的改善

月1回以上実施:
- [ ] コード重複のチェック
- [ ] 型定義の整合性確認
- [ ] 不要な依存関係の削除
- [ ] パフォーマンス最適化